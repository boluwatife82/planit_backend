// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
}
datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model User {
  id        Int      @id @default(autoincrement())
  firstName String
  lastName  String
  gender    String?
  email     String   @unique
  phone     String
  password  String
  role      Role
  planner   Planner?
  vendor    Vendor?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Planner {
  id              Int      @id @default(autoincrement())
  userId          Int      @unique
  companyName     String
  businessAddress String
  cacNumber       String?
  profilePhoto    String?   // <-- add this for profile photo uploads
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  user            User     @relation(fields: [userId], references: [id])
}

model Vendor {
  id                 Int      @id @default(autoincrement())
  userId             Int      @unique
  user               User     @relation(fields: [userId], references: [id])
  companyName        String
  businessAddress    String
  cacNumber          String?
  serviceCategories  String?
  yearsOfExperience  Int?
  phone              String?
  licenseUrl         String?
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt
}

enum Role {
  USER
  ADMIN
  PLANNER
  VENDOR
}
